import{r as e,g as t,j as s}from"./index-BcRcl4eo.js";import{h as a,g as o}from"./index.esm-DaNM0Ui_.js";const r=()=>{const[r,n]=e.useState(""),[d,u]=e.useState(""),[c,l]=e.useState(!1),{addSubject:i,addAssessment:m,addFixedSlot:g,addTask:b,addStudySession:h}=t(),_=a(o(),"getAISuggestions");return s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Wizard"}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=(await _({prompt:r})).data;if("create_subject"===e.tool)i(e.arguments),u(`A new subject, ${e.arguments.course_code}: ${e.arguments.title}, has been added to your schedule.`);else if("add_assessment_to_subject"===e.tool)m(e.arguments.course_code,e.arguments),u(`A new assessment, ${e.arguments.title}, has been added to ${e.arguments.course_code}.`);else if("add_fixed_slot_to_subject"===e.tool)g(e.arguments.course_code,e.arguments),u(`A new ${e.arguments.type} has been added to ${e.arguments.course_code} on ${e.arguments.day} from ${e.arguments.start_time} to ${e.arguments.end_time}.`);else if("create_task"===e.tool)b(e.arguments),u(`A new task, ${e.arguments.title}, has been created for ${e.arguments.course_code}.`);else if("add_task_to_subject"===e.tool)b(e.arguments),u(`A new task, ${e.arguments.title}, has been added to ${e.arguments.course_code}.`);else if("create_study_session"===e.tool){h(e.arguments);const{start_time:t,end_time:s,task_title:a}=e.arguments,o=new Date(t),r=new Date(s);u(`A new study session for '${a}' has been scheduled on ${o.toLocaleDateString()} from ${o.toLocaleTimeString()} to ${r.toLocaleTimeString()}.`)}else{const t=e.suggestions;if(r.toLowerCase().includes("add subject")&&t&&"string"==typeof t){const e=t.split(":");if(e.length>1){const s=e[0].trim(),a=e.slice(1).join(":").match(/^\s*([^\-–—]+)/);if(a){const e=a[1].trim();i({course_code:s,title:e}),u(`A new subject, ${s}: ${e}, has been added to your schedule.`)}else u(t)}else u(t)}else u(t)}}catch(t){console.error("Error fetching AI suggestions:",t),u("An error occurred. Please try again.")}finally{l(!1)}},children:[s.jsx("textarea",{className:"w-full p-2 border rounded",rows:"5",value:r,onChange:e=>n(e.target.value),placeholder:"Enter your prompt here..."}),s.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:c,children:c?"Loading...":"Get Feedback"})]}),d&&s.jsxs("div",{className:"mt-4 p-4 border rounded bg-gray-100",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"AI Feedback:"}),s.jsx("p",{children:d})]})]})};export{r as default};
//# sourceMappingURL=Wizard-mtRibr1X.js.map
